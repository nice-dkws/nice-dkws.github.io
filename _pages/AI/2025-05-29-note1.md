---
title: 250529_[PE day3] 자체 일관성(Self-Consistency)
author: nice-shhong
date: 2025-05-29
category: AI
layout: post
---
### Prompt Engineering - Day 3: 자체 일관성(Self-Consistency)

#### 세 줄 요약
* 모델이 같은 문제에 대해 여러 다른 추론 경로를 탐색하게 합니다.  
* 가장 자주 도출되는 결과(다수결)를 최종 답변으로 선택합니다.  
* 복잡한 문제 해결의 정확도와 신뢰성을 크게 향상시킵니다.
#### 핵심 내용
하나의 프롬프트에 대해 언어 모델이 여러 번 응답을 생성하도록 요청합니다.  
각 생성 시 다른 추론 경로를 거치도록 유도합니다 (예: CoT와 함께 사용).  
다양한 경로를 통해 얻은 결과들 중 가장 빈번하게 나타나는 결과를 최종 답변으로 결정합니다.  
단일 추론의 오류 가능성을 줄이고, 모델의 강점을 활용하여 더 견고한 답을 얻습니다.
#### 프롬프트 예시
문제: "친구 5명과 모여 각자 한 번씩만 서로 악수를 합니다. 총 악수 횟수는 몇 번인가요?"
자체 일관성 프롬프트: "다음 문제를 풀어주세요. 단, 세 가지 다른 추론 과정을 거쳐 답을 도출하고, 최종적으로 세 과정 모두에서 가장 일관된 답을 제시해주세요.\n\n문제: 친구 5명과 모여 각자 한 번씩만 서로 악수를 합니다. 총 악수 횟수는 몇 번인가요?"
#### 기대 응답 (예시)
(모델 응답 1)
```
추론 1: 첫 번째 사람이 4명과 악수, 두 번째 사람이 남은 3명과 악수, 세 번째 사람이 남은 2명과 악수, 네 번째 사람이 남은 1명과 악수. 4+3+2+1 = 10회.
```

(모델 응답 2)
```
추론 2: 5명 각각이 4명과 악수. 총 5*4=20회. 악수는 두 사람 간에 이루어지므로 2로 나눔. 20/2 = 10회.
```

(모델 응답 3)
```
추론 3: 조합 공식 이용. 5명 중 2명을 선택하는 경우의 수와 같음. C(5, 2) = 5! / (2! * 3!) = (5*4) / (2*1) = 10회.
가장 일관된 답: 10회 (모든 추론에서 10이 나옴).
```

#### 결론
자체 일관성은 모델에게 '여러 번 생각하게' 하여, 복잡한 문제 해결 시 정확성을 높이는 유용한 기법입니다.